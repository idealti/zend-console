<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Build console applications using getopt syntax or routing, complete with prompts">  
    <link rel="canonical" href="https://docs.zendframework.com/adapter/">
    <link rel="shortcut icon" href="../img/favicon.ico">

    <title>Console Adapters - zend-console - Zend Framework Docs</title>

    <link rel="stylesheet" href="/css/styles.css">
</head>
<body id="page-top">

    
    <div class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">

            
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            
            <span class="navbar-brand">
                <a class="logo-link" href="https://framework.zend.com/" data-tooltip data-placement="bottom" title="Go to the ZF homepage">
                    <img src="../img/zend-framework-logo.svg" height="28" alt="Zend Framework">
                </a>
            </span>
        </div>

        <div class="navbar-collapse collapse">

            
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="https://framework.zend.com/about">About</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/downloads">Install</a>
                </li>
                <li class="active">
                    <a href="https://docs.zendframework.com">Documentation</a>
                </li>
                <li>
                    <a href="https://www.zend.com/en/services/training">Training</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/blog">Blog</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/participate">Participate</a>
                </li>
            </ul>

            
            
                <div class="nav navbar-nav navbar-collapse visible-xs-block ">
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="..">zend-console</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item ">
                                <a href="../intro/" class="subnavigation__link">Introduction</a>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item">
                                <span class="subnavigation__headline">Reference</span>
                                <ul class="subnavigation__list">
                                    
                                        
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="./" class="subnavigation__link">Console Adapters</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../prompts/" class="subnavigation__link">Console Prompts</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../routes/" class="subnavigation__link">Routes</a>
    </li>

                                    
                                </ul>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item">
                                <span class="subnavigation__headline">MVC Integration</span>
                                <ul class="subnavigation__list">
                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../mvc/routing/" class="subnavigation__link">MVC Routing</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../mvc/modules/" class="subnavigation__link">Console-Aware Modules</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../mvc/controllers/" class="subnavigation__link">Console-Aware Controllers</a>
    </li>

                                    
                                </ul>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item">
                                <span class="subnavigation__headline">Getopt</span>
                                <ul class="subnavigation__list">
                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../getopt/intro/" class="subnavigation__link">Introduction</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../getopt/rules/" class="subnavigation__link">Declaring Rules</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../getopt/fetching/" class="subnavigation__link">Fetching Options and Arguments</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../getopt/configuration/" class="subnavigation__link">Configuration</a>
    </li>

                                    
                                </ul>
                            </li>
                        
                    
                
            
        </ul>
    </div>

                </div>
            

            
            <div class="nav navbar-nav navbar-collapse visible-xs-block">
                <div class="component-selector">
    <h4 class="component-selector__title">Components</h4>
    <h5 class="component-selector__subtitle">Find documentationâ€¦</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
            </div>
        </div>
    </div>
</div>

    
    <header class="header">
    <div class="container">
        <div class="row">

            
            <div class="col-xs-8">
                <h1 class="header__title">
                    Documentation

                    
                        <small class="header__subtitle">zend-console</small>
                    
                </h1>
            </div>

            
            <div class="col-xs-4 text-right">
                
                    

                    <a href="#" class="header__link header__link--search" data-toggle="modal" data-target="#mkdocs_search_modal" title="Open search">
                        <i class="fa fa-search"></i> Search
                    </a>
                    <a href="https://github.com/zendframework/zend-console/" class="header__link header__link--github" title="Go to repository of zend-console">
                        <i class="fa fa-github"></i> GitHub
                    </a>
                
            </div>
        </div>
    </div>
</header>

    
    <div class="laminas-announcement">
    <div class="container">
        <div class="row">
            <div class="col-xs-12"><strong>
                This package has moved. Visit its replacement, <a href="https://docs.laminas.dev/laminas-console/">laminas/laminas-console.</a>
            </strong></div>
        </div>
    </div>
</div>

    
    <div class="container">
        <div class="row">
            <div class="col-md-9 col-xs-12 content" role="main">
            <!-- content:begin -->
                
                    <ol class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation">
    <li><a href="https://framework.zend.com/">Home</a></li>

    
        <li><a href="https://docs.zendframework.com/">Documentation</a></li>

        
            <li><a href="..">zend-console</a></li>

            
                
                    
                    
                        <li>Reference</li>
                    
                
            

            <li class="active">Console Adapters</li>
        
    
</ol>






    
    
        <h2 class="chapter__headline">Reference</h2>
    

    <div>
        
    

    
    
        <div class="toc">
            <h6 class="toc__headline">In This Article</h6>
            <ul class="toc__list">
                
                    <li class="toc__entry">
                        <a href="#retrieving-the-console-adapter" class="toc__link">Retrieving the console adapter</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#using-the-console-adapter" class="toc__link">Using the console adapter</a>
                    </li>
                
            </ul>
        </div>
    

    </div>

    <h1 id="console-adapters">Console Adapters</h1>
<p>zend-console's console abstraction layer works around various bugs and limitations
in operating systems, including:</p>
<ul>
<li>display of colorized text.</li>
<li>discovery and calculation of console window size.</li>
<li>discovery of console charset.</li>
<li>basic line drawing capabilities.</li>
</ul>
<p>Console adapters implement <code>Zend\Console\Adapter\AdapterInterface</code>, and you
should typehint against that interface for purposes of working with console
capabilities. Adapters are included for:</p>
<ul>
<li>Posix (*nix-based systems)</li>
<li>Windows (and Windows ANSI; for use with <code>command.bat</code>)</li>
<li>Virtual (which provides Windows PowerShell compatibility)</li>
</ul>
<h2 id="retrieving-the-console-adapter">Retrieving the console adapter</h2>
<p>While you may know your current environment, you will want to write your code in
such a way that the console adapter is specific to whatever environment it is
run within. As such, you likely should never instantiate an adapter directly.
zend-console, and the zend-mvc integration, provide tools for retrieving an
appropriate adapter for the current environment in a generic way.</p>
<h3>Standalone</h3>
<p>zend-console provides a factory for creating and returning the console adapter
specific to your environment:</p>
<pre><code class="language-php">use Zend\Console\Console;
use Zend\Console\Exception\ExceptionInterface as ConsoleException;

try {
    $console = Console::getInstance();
} catch (ConsoleException $e) {
    // Could not get console adapter; most likely we are not running inside a
    // console window.
}
</code></pre>

<p>This returns a <code>Zend\Console\Adapter\AdapterInterface</code> implementation suitable
for your current environment.</p>
<blockquote>
<h4>Exceptions</h4>
<p>For practical and security reasons, <code>Console::getInstance()</code> will always throw
an exception if you attempt to get console instance in a non-console
environment (i.e. when running on a HTTP server). You can override this
behavior by manually instantiating one of the <code>Zend\Console\Adapter\*</code>
classes; you should do this only as a last resort, however!</p>
</blockquote>
<h3>zend-mvc</h3>
<p>If you are using MVC controllers you can obtain Console adapter instance using
the <code>ServiceManager</code>.</p>
<pre><code class="language-php">namespace Application;

use Zend\Mvc\Controller\AbstractActionController;
use Zend\Console\Adapter\AdapterInterface as Console;
use Zend\Console\Exception\RuntimeException;

class ConsoleController extends AbstractActionController
{
    public function testAction()
    {
        $console = $this-&gt;getServiceLocator()-&gt;get('console');
        if (! $console instanceof Console) {
            throw new RuntimeException('Cannot obtain console adapter. Are we running in a
console?');
        }
    }
}
</code></pre>

<p>If you extend <code>AbstractConsoleController</code>, you can use the <code>getConsole()</code> method
instead:</p>
<pre><code class="language-php">namespace Application;

use Zend\Mvc\Controller\AbstractConsoleController;
use Zend\Console\Exception\RuntimeException;

class ConsoleController extends AbstractConsoleController
{
    public function testAction()
    {
        $console = $this-&gt;getConsole();
    }
}
</code></pre>

<blockquote>
<h4>Use dependency injection</h4>
<p>We recommend using dependency injection. Instead of pulling the console
adapter from the service manager, inject it from within your controller's
factory. This is essentially what happens when extending
<code>AbstractConsoleController</code> already.</p>
</blockquote>
<h2 id="using-the-console-adapter">Using the console adapter</h2>
<p><code>Zend\Console\Adapter\AdapterInterface</code> describes a rich set of capabilities.
Below is a sampling.</p>
<h3>Window size and title</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$console-&gt;getWidth()</code></td>
<td>(int) Get real console window width in characters.</td>
</tr>
<tr>
<td><code>$console-&gt;getHeight()</code></td>
<td>(int) Get real console window height in characters.</td>
</tr>
<tr>
<td><code>$console-&gt;getSize()</code></td>
<td>(array) Returns <code>[$width, $height]</code> with current console window dimensions.</td>
</tr>
<tr>
<td><code>$console-&gt;getTitle()</code></td>
<td>(string) Get console window title.</td>
</tr>
</tbody>
</table></div>
<blockquote>
<h4>Multibyte sequences</h4>
<p>For UTF-8 enabled consoles, dimensions represent the number of multibyte
characters (real characters).</p>
<h4>Virtual buffer sizes</h4>
<p>On consoles with virtual buffers (e.g. MS Windows Command Prompt), width and
height represent visible (real) size, without scrolling the window. For
example, if the window scrolling width is 120 chars, but its real, visible
width is 80 chars, <code>getWidth()</code> will return <code>80</code>.</p>
</blockquote>
<h3>Character set</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$console-&gt;isUtf8()</code></td>
<td>(boolean) Is the console UTF-8 compatible (can it display unicode strings)?</td>
</tr>
<tr>
<td><code>$console-&gt;getCharset()</code></td>
<td>(<code>Zend\Console\Charset\CharsetInterface</code>) This method will return an instance of one of the <code>Zend\Console\Charset\*</code> classes representing the readable charset present for line-drawing. It is automatically detected by the adapter.</td>
</tr>
</tbody>
</table></div>
<h3>Writing to the console</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$console-&gt;write(string $text, $color = null, $bgColor = null)</code></td>
<td>Write <code>$text</code> to the console, optionally using foreground <code>$color</code> and background <code>$bgColor</code>.  Color values must be one of the <code>Zend\Console\ColorInterface</code> constants.</td>
</tr>
<tr>
<td><code>$console-&gt;writeLine(string $text, $color = null, $bgColor = null)</code></td>
<td>Write a single line of <code>$text</code> to the console. This method will output an environment-specific newline character at the end of the text, moving the console cursor to next line.</td>
</tr>
<tr>
<td><code>$console-&gt;writeAt(string $text, int $x, int $y, $color = null, $bgColor = null)</code></td>
<td>Write <code>$text</code> at the specified <code>$x</code> and <code>$y</code> coordinates of console window. The top left corner of the screen has coordinates of <code>$x = 1; $y = 1</code>. To retrieve the far-right and bottom coordinates, use the <code>getWidth()</code> and <code>getHeight()</code> methods.</td>
</tr>
</tbody>
</table></div>
<h3>Reading from the console</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$console-&gt;readChar(string $mask = null)</code></td>
<td>(string) Read a single character from the console. Optional <code>(string) $mask</code> can be provided to force entering only a selected set of characters. For example, to read a single digit, we can use the following syntax: <code>$digit = $console-&gt;readChar('0123456789');</code>.</td>
</tr>
<tr>
<td><code>$console-&gt;readLine(int $maxLength = 2048)</code></td>
<td>(string) Read a single line of input from console. Optional <code>(int) $maxLength</code> can be used to limit the length of data that will be read. The line will be returned <strong>without trailing newline characters</strong>.</td>
</tr>
</tbody>
</table></div>
<h3>Miscellaneous</h3>
<div class="table-responsive"><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$console-&gt;hideCursor()</code></td>
<td>Hide blinking cursor from the console.</td>
</tr>
<tr>
<td><code>$console-&gt;showCursor()</code></td>
<td>Show blinking cursor in the console.</td>
</tr>
<tr>
<td><code>$console-&gt;clear()</code></td>
<td>Clear the screen.</td>
</tr>
<tr>
<td><code>$console-&gt;clearLine()</code></td>
<td>Clear the line that the cursor currently sits at.</td>
</tr>
</tbody>
</table></div>




    <nav>
    <ul class="page-nav hidden-print">

        
        <li class="page-nav__item">
            
                <a rel="prev" class="page-nav__link page-nav__link--prev" href="../intro/">
                    <i class="fa fa-chevron-left"></i> Previous
                </a>
            
        </li>

        
        <li class="page-nav__item">
            
                <a rel="next" class="page-nav__link page-nav__link--next" href="../prompts/">
                    Next <i class="fa fa-chevron-right"></i>
                </a>
            
        </li>
    </ul>
</nav>




    <div class="help-wanted">
        <p>
            Found a mistake or want to contribute to the documentation?
            <a href="https://github.com/zendframework/zend-console/edit/master/docs/book/adapter.md" target="_blank" class="help-wanted__link">
                Edit this page on GitHub!
            </a>
        </p>
    </div>

                
            <!-- content:end -->
            </div>
            <div class="col-md-3 col-xs-12 sidebar">
                
                    <div class="component-selector">
    <h4 class="component-selector__title">Components</h4>
    <h5 class="component-selector__subtitle">Find documentationâ€¦</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="..">zend-console</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item ">
                                <a href="../intro/" class="subnavigation__link">Introduction</a>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item">
                                <span class="subnavigation__headline">Reference</span>
                                <ul class="subnavigation__list">
                                    
                                        
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="./" class="subnavigation__link">Console Adapters</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../prompts/" class="subnavigation__link">Console Prompts</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../routes/" class="subnavigation__link">Routes</a>
    </li>

                                    
                                </ul>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item">
                                <span class="subnavigation__headline">MVC Integration</span>
                                <ul class="subnavigation__list">
                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../mvc/routing/" class="subnavigation__link">MVC Routing</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../mvc/modules/" class="subnavigation__link">Console-Aware Modules</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../mvc/controllers/" class="subnavigation__link">Console-Aware Controllers</a>
    </li>

                                    
                                </ul>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item">
                                <span class="subnavigation__headline">Getopt</span>
                                <ul class="subnavigation__list">
                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../getopt/intro/" class="subnavigation__link">Introduction</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../getopt/rules/" class="subnavigation__link">Declaring Rules</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../getopt/fetching/" class="subnavigation__link">Fetching Options and Arguments</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../getopt/configuration/" class="subnavigation__link">Configuration</a>
    </li>

                                    
                                </ul>
                            </li>
                        
                    
                
            
        </ul>
    </div>

                
            </div>
        </div>
    </div>

    
    <footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-9">
                <h5>Zend Framework</h5>
                <ul>
                    <li><a href="https://framework.zend.com/">framework.zend.com</a></li>
                    <li><a href="https://docs.zendframework.com">docs.zendframework.com</a></li>
                    <li><a href="https://packages.zendframework.com">packages.zendframework.com</a></li>
                    <li><a href="https://apigility.org">apigility.org</a></li>
                    <li><a href="https://getexpressive.org/">getexpressive.org</a></li>
                </ul>
            </div>
        </div>

        
        <div class="row">
            <div class="col-md-12 text-center">
                <a class="footer__button" href="#page-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="row">

            
            <div class="col-md-9">
                <h4 class="footer__headline">Copyright</h4>
                <p>&copy; 2006-2020 by <a href="https://www.zend.com/">Zend</a> by <a href="https://www.perforce.com/">Perforce</a>.</p>
            </div>

            
            <div class="col-md-3">
                <h4 class="footer__headline">Support</h4>
                <ul class="support__list">
                    <li class="support__list-item">
                        <a href="https://discourse.laminas.dev" class="support__link" title="Forum"><i class="fa fa-comments"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://laminas.dev/chat/" class="support__link" title="Chat"><i class="fa fa-slack"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://github.com/zendframework" class="support__link" title="Github"><i class="fa fa-github"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://twitter.com/zfdevteam" class="support__link" title="Twitter"><i class="fa fa-twitter"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>

<nav class="cookie-bar navbar navbar-fixed-bottom navbar-default hidden">
    <div class="container">
        <p class="navbar-text">
            We use cookies to allow you to dismiss dialogs such as the Laminas
            Project notification.
        </p>
        <button type="button" class="cookie-button btn btn-default navbar-btn">Allow Cookies</button>
    </div>
</nav>

    <script>
        var base_url = '..',
            siteName = 'zend-console';
    </script>
    <script src="/js/scripts.js"></script>
    <script src="../search/main.js"></script>

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>



</body>


</html>
